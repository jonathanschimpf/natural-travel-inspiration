import{s as te,n as j,d as B,r as ne,c as le,o as re}from"../chunks/scheduler.BXxgt0ok.js";import{S as oe,i as se,e as g,s as R,c as b,a as K,d as p,f as S,l as i,g as M,h as T,t as q,k as Y,b as N,z as W,j as G,A as X,B as ae,n as V,o as ie,p as Z,r as ce,v as ue,w as fe,x as he,y as de}from"../chunks/index.CBX-e1eN.js";import{w as pe}from"../chunks/index.LCLLhfyB.js";function x(r){let e,n,t;return{c(){e=g("img"),this.h()},l(o){e=b(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){B(e.src,n=r[0].urls.regular)||i(e,"src",n),i(e,"alt",t=r[0].alt_description||"Unsplash Photo"),i(e,"class","svelte-1n65rfv")},m(o,s){M(o,e,s)},p(o,s){s&1&&!B(e.src,n=o[0].urls.regular)&&i(e,"src",n),s&1&&t!==(t=o[0].alt_description||"Unsplash Photo")&&i(e,"alt",t)},d(o){o&&p(e)}}}function O(r){let e,n,t,o,s="Photo by",u,l,_=r[0].user.name+"",k,y,A,P,D="on",Q,f,d,c,h,C="Download",E,L,w=r[0].location&&r[0].location.name&&J(r);return{c(){e=g("div"),w&&w.c(),n=R(),t=g("div"),o=g("span"),o.textContent=s,u=R(),l=g("a"),k=q(_),A=R(),P=g("span"),P.textContent=D,Q=R(),f=g("a"),d=q("Unsplash"),c=R(),h=g("button"),h.textContent=C,this.h()},l(m){e=b(m,"DIV",{class:!0});var U=K(e);w&&w.l(U),n=S(U),t=b(U,"DIV",{class:!0});var I=K(t);o=b(I,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-b69ulm"&&(o.textContent=s),u=S(I),l=b(I,"A",{class:!0,href:!0,target:!0,rel:!0});var F=K(l);k=N(F,_),F.forEach(p),A=S(I),P=b(I,"SPAN",{class:!0,"data-svelte-h":!0}),Y(P)!=="svelte-16j78ur"&&(P.textContent=D),Q=S(I),f=b(I,"A",{class:!0,href:!0,target:!0,rel:!0});var a=K(f);d=N(a,"Unsplash"),a.forEach(p),I.forEach(p),U.forEach(p),c=S(m),h=b(m,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(h)!=="svelte-64za16"&&(h.textContent=C),this.h()},h(){i(o,"class","credit-photo-by svelte-1n65rfv"),i(l,"class","credit-links svelte-1n65rfv"),i(l,"href",y=H(r[0].user.links.html)),i(l,"target","_blank"),i(l,"rel","noopener noreferrer"),i(P,"class","credit-on svelte-1n65rfv"),i(f,"class","credit-links svelte-1n65rfv"),i(f,"href",H("https://unsplash.com")),i(f,"target","_blank"),i(f,"rel","noopener noreferrer"),i(t,"class","caption svelte-1n65rfv"),i(e,"class","photo-information svelte-1n65rfv"),i(h,"class","download-button svelte-1n65rfv")},m(m,U){M(m,e,U),w&&w.m(e,null),T(e,n),T(e,t),T(t,o),T(t,u),T(t,l),T(l,k),T(t,A),T(t,P),T(t,Q),T(t,f),T(f,d),M(m,c,U),M(m,h,U),E||(L=W(h,"click",r[2]),E=!0)},p(m,U){m[0].location&&m[0].location.name?w?w.p(m,U):(w=J(m),w.c(),w.m(e,n)):w&&(w.d(1),w=null),U&1&&_!==(_=m[0].user.name+"")&&G(k,_),U&1&&y!==(y=H(m[0].user.links.html))&&i(l,"href",y)},d(m){m&&(p(e),p(c),p(h)),w&&w.d(),E=!1,L()}}}function J(r){let e,n=r[0].location.name+"",t;return{c(){e=g("p"),t=q(n),this.h()},l(o){e=b(o,"P",{class:!0});var s=K(e);t=N(s,n),s.forEach(p),this.h()},h(){i(e,"class","location svelte-1n65rfv")},m(o,s){M(o,e,s),T(e,t)},p(o,s){s&1&&n!==(n=o[0].location.name+"")&&G(t,n)},d(o){o&&p(e)}}}function me(r){let e,n,t,o,s=r[0]&&r[0].urls&&r[0].urls.regular&&x(r),u=r[0]&&O(r);return{c(){e=g("div"),n=g("div"),s&&s.c(),t=R(),u&&u.c(),this.h()},l(l){e=b(l,"DIV",{class:!0});var _=K(e);n=b(_,"DIV",{class:!0});var k=K(n);s&&s.l(k),k.forEach(p),t=S(_),u&&u.l(_),_.forEach(p),this.h()},h(){i(n,"class","image-container svelte-1n65rfv"),i(e,"class",o="photo-card "+(r[1]?"loaded":"")+" svelte-1n65rfv")},m(l,_){M(l,e,_),T(e,n),s&&s.m(n,null),T(e,t),u&&u.m(e,null)},p(l,[_]){l[0]&&l[0].urls&&l[0].urls.regular?s?s.p(l,_):(s=x(l),s.c(),s.m(n,null)):s&&(s.d(1),s=null),l[0]?u?u.p(l,_):(u=O(l),u.c(),u.m(e,null)):u&&(u.d(1),u=null),_&2&&o!==(o="photo-card "+(l[1]?"loaded":"")+" svelte-1n65rfv")&&i(e,"class",o)},i:j,o:j,d(l){l&&p(e),s&&s.d(),u&&u.d()}}}const _e="Natural Travel Inspiration",we="referral";function H(r){return`${r}?utm_source=${_e}&utm_medium=${we}`}function ve(r,e,n){let{photo:t}=e,{onDownload:o}=e,s=!1;function u(){if(console.log("Triggering download for photo:",t),o&&typeof o=="function"){const l=`unsplash_image_${t.id}.jpg`;console.log("Filename:",l),o(t,l)}else console.error("Download function not provided!")}return r.$$set=l=>{"photo"in l&&n(0,t=l.photo),"onDownload"in l&&n(3,o=l.onDownload)},r.$$.update=()=>{r.$$.dirty&1&&t&&t.urls&&t.urls.regular&&n(1,s=!0)},[t,s,u,o]}class ke extends oe{constructor(e){super(),se(this,e,ve,me,te,{photo:0,onDownload:3})}}function ge(r){let e,n="Searching for inspiration...";return{c(){e=g("p"),e.textContent=n,this.h()},l(t){e=b(t,"P",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-tc8shl"&&(e.textContent=n),this.h()},h(){i(e,"class","searching-for-inspiration svelte-f2ywl4")},m(t,o){M(t,e,o)},p:j,i:j,o:j,d(t){t&&p(e)}}}function be(r){let e,n;return e=new ke({props:{photo:r[0],onDownload:r[4]}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,o){he(e,t,o),n=!0},p(t,o){const s={};o&1&&(s.photo=t[0]),e.$set(s)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){de(e,t)}}}function ye(r){let e,n;return{c(){e=g("p"),n=q(r[1]),this.h()},l(t){e=b(t,"P",{class:!0});var o=K(e);n=N(o,r[1]),o.forEach(p),this.h()},h(){i(e,"class","svelte-f2ywl4")},m(t,o){M(t,e,o),T(e,n)},p(t,o){o&2&&G(n,t[1])},i:j,o:j,d(t){t&&p(e)}}}function Te(r){let e,n="Natural Travel Inspiration ⛰️",t,o,s,u,l,_='More <span class="smaller-down-arrow svelte-f2ywl4">⬇</span>',k,y,A="Random Natural Inspiration",P,D,Q='<span class="smaller-down-arrow svelte-f2ywl4">⬇ </span>Search For A More Specific Random Image Below',f,d,c,h,C,E="Search",L,w,m;const U=[ye,be,ge],I=[];function F(a,v){return a[1]?0:a[0]?1:2}return o=F(r),s=I[o]=U[o](r),{c(){e=g("h1"),e.textContent=n,t=R(),s.c(),u=R(),l=g("p"),l.innerHTML=_,k=R(),y=g("button"),y.textContent=A,P=R(),D=g("p"),D.innerHTML=Q,f=R(),d=g("form"),c=g("input"),h=R(),C=g("button"),C.textContent=E,this.h()},l(a){e=b(a,"H1",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-dr4slq"&&(e.textContent=n),t=S(a),s.l(a),u=S(a),l=b(a,"P",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1na247x"&&(l.innerHTML=_),k=S(a),y=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(y)!=="svelte-1ujrdmr"&&(y.textContent=A),P=S(a),D=b(a,"P",{class:!0,"data-svelte-h":!0}),Y(D)!=="svelte-omenuc"&&(D.innerHTML=Q),f=S(a),d=b(a,"FORM",{class:!0});var v=K(d);c=b(v,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),h=S(v),C=b(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Y(C)!=="svelte-144da9z"&&(C.textContent=E),v.forEach(p),this.h()},h(){i(e,"class","svelte-f2ywl4"),i(l,"class","click-below-message svelte-f2ywl4"),i(y,"class","svelte-f2ywl4"),i(D,"class","click-below-message-longer svelte-f2ywl4"),i(c,"type","search"),i(c,"id","search-input"),i(c,"placeholder",""),i(c,"class","svelte-f2ywl4"),i(C,"type","submit"),i(C,"class","svelte-f2ywl4"),i(d,"class","pico-form svelte-f2ywl4")},m(a,v){M(a,e,v),M(a,t,v),I[o].m(a,v),M(a,u,v),M(a,l,v),M(a,k,v),M(a,y,v),M(a,P,v),M(a,D,v),M(a,f,v),M(a,d,v),T(d,c),X(c,r[2]),T(d,h),T(d,C),L=!0,w||(m=[W(y,"click",r[5]),W(c,"input",r[7]),W(d,"submit",ae(r[6]))],w=!0)},p(a,[v]){let z=o;o=F(a),o===z?I[o].p(a,v):(ce(),V(I[z],1,1,()=>{I[z]=null}),ie(),s=I[o],s?s.p(a,v):(s=I[o]=U[o](a),s.c()),Z(s,1),s.m(u.parentNode,u)),v&4&&c.value!==a[2]&&X(c,a[2])},i(a){L||(Z(s),L=!0)},o(a){V(s),L=!1},d(a){a&&(p(e),p(t),p(u),p(l),p(k),p(y),p(P),p(D),p(f),p(d)),I[o].d(a),w=!1,ne(m)}}}const $=20,ee=1e3;function Me(){const r=["mountain","hike","vista","cliff","forest","river"];return r[Math.floor(Math.random()*r.length)]}function Ie(r,e,n){let t;const o="DhbwOlEXTWXSjSPsc0mBLHepnq6RtSt6boyDK-G50lw",s=pe(new Set);le(r,s,f=>n(8,t=f));const u=new Set(["UOkZT4JT8fw","parczv2B-ZM","xRr9Lz3xfYs","uYoVf9I6ANI","mmzuZhihp30","jqgsM3B9Fpo","tMzCrBkM99Y","IicyiaPYGGI","jAjvbh7vw9g","6c5ZTHnUUzA","OdBFUurPHjo","PSFfI7vbS3c","9JxubXPaidg","uNliRqlmBdg","jnJ89cuXMcs","F6Da4r2x5to","z8ct_Q3oCqM","RwHv7LgeC7s","2JwQoi-RBiI","3W9buupDI2k","10TSKDfW8X8","TkrRvwxjb_8","fsJB3KT2rj8","bBiuSdck8tU","h6zMgghzZr0","7AcMUSYRZpU","jin4W1HqgL4","El-egS_h_N4","MMJx78V7xS8","h5eLbyHzAcE","ITfHPUy0x9k","s0vFLLZzOrs","v4e3JI7DDHI","vngzm4P2BTs","koy6FlCCy5s","sx6n_hgSmOc","9Z1KRIfpBTM","JP23z_-dA74","jt6QxZwSOCQ","8mCMQSq41gQ","Dqzsti6Fonc","KhsuK_wq-o4","rCFAY4WrbUY","4rDCa5hBlCs","hPxKmyCZ-Bs","KMYCSLP8uiU","jWv1ILisuSc","OOE4xAnBhKo","rleYWWVY4Pc","GVnUVP8cs1o","T8-kfC8W4b8","yjEt-n0qUl8","LNYdZutqsi0","d2aXuZD2kUc","OS0D-aJ54CY","6ArTTluciuA","6loxuv3aXkg","XxvXRmsH860","qPPWNeFVLFQ","pmhoQj3Ce1E","6-C0VRsagUw","8SXaMMWCTGc","h5wvMCdOV3w","CoIqQVwEGY0","I3jSS2YfmcU","0uO6qhd6Bi8","gofWd3XkKo0","NliTYm_jD5o","zPCj7SKoub8","gvb84QdErNs","-N_UwPdUs7E","choc7LYd98I","Tw_rTjWMuGo","WgT_B4mN0BA","yZNGVL_fWj8","pT8mKX61STI","NjT4O7WYmwk","wQImoykAwGs","cS6YoRIAK2w","_EMkxLdko9k","vzVGHfxZIZ8","F5zoQfoWtbM","U86FnrpRR0k","fG4PYBDmAkI","9Gs0qk9Z3WU","h3ki3bbJWk0","xjhgZCuvg3k","fMIsAL72P3U","5-jtsfuaLBw","AnKC9klnyKk","Ee0894MAyok","gyIRjKPXupE","jFCViYFYcus","eOpewngf68w","Rfflri94rs8","Lh2qwkppkf8","RdouF_LXaYI","049M_crau5k","IVbFRSEYGuA","sNVE_h_7naU","7KLa-xLbSXA","poXhq_-eANA","utoPXPPr5zc","jCL98LGaeoE","rFn64K0YQrI","vpkCTrnV2eE","JiphyElpixM","ciHYaPb8lUA","c1Jp-fo53U8","WK4lhYGRIzw","JWa5jZ1LkJY","MPKFmy_Xc_A","NEqEC7qa9FM","vUNQaTtZeOo","c4cWawGBFv8","rckx2mE9rOw","cCthPLHmrzI","dhw3LSuWyks","3U3Qegatt2o","QsWG0kjPQRY","42MaenKbPe0","9K9ipjhDdks","sFLVTqNzG2I","7ne3hNnojvU","j6dqEl13is4","hpTH5b6mo2s","19SC2oaVZW0","u4fWwlBhHJ8","ugnrXk1129g","Yl9YFBtZFcQ","SaWeuWtLQqE","NP_GHS5Bb-s","yu2Ay7LQmnY","_ReQ6GSqSaM","wxZBV8GiPlc","1OtUkD_8svc","PXXtq6bp6cs","qN8AMtHZ2nY","J2xHOsMNIn0","SDoMyyylpnc","SDoMyyylpnc","3Kv48NS4WUU","3Ltn2aWVNcM","vgazHbc0XWg","8UVZHt8AUoQ","Ed_DchxFfrU","uilVSfUGnWk","dSxAggoqPAk","F_moKY91WYc","2ZjJ7T6EeOg","mLXmJb3In8Q","T69h1_YfR-w","kIR55P1eXJI","mFbrMEVKCkc","UFnHt94r91w","pt7QzB4ZLWw","6xh7H5tWj9c","bnUXhIyf0i0","WJkc3xZjSXw","5S6_c_yCIwE","d4feocYfzAM","nTRDnDdDYk8","Rr3B0LH7W3k","7NBO76G5JsE","0D8_tYHIy0o","lsGWd4KgCD4","JiuVoQd-ZLk","qzgN45hseN0","ZeNABWS-k4Q","Dm-qxdynoEc","__0Yg6-lvP8","qd-dvtbS45Q","4ooRozrZdLM","wKjIeK4QSnk","4QWR5geRC9I","PjjMG6VyHs4","TMNyU2MFTGw","lIat5Z-N3JA","QMnYC8WVFM8","SBiVq9eWEtQ","uaO9cd5BQPc","sp-p7uuT0tw","sp-p7uuT0tw","Yh6K2eTr_FY","GzcI_rMNclY","CtxRK04XMKs","mppuJZUzhI0","AqXqL_V9qpM","6csuZQ9oZcI","TRhGEGdw-YY","NQSWvyVRIJk","FMWXjhIkmO0","VHUbeZMH6Yg","uJnUhGtI_Pk","hry9juw-x5k","50bzI1F6urA","J2jtcRbiL-4","zK049OFP4uI","enXOyujvTXQ","z_HDrTQxNEI","z_HDrTQxNEI","zXVk8mNl9M0","a0nbRUHimZw","a0nbRUHimZw","S9miGKjxmb4","uyNMxCFYMvo","gzMvo6cR6J0","b4l3Mn4pRKk","D4TooCIEyF4","2JuKK2ticlk","buF62ewDLcQ","Fz77XHwFYg0","WVEBqXRGcy8","xY_6ZENqcfo","TBl1-EKYFjs","KYTT8L5JLDs","XAmgFP_GvVA","5VDFTgpwV2g","whDrFMucHkc","G8rRItjrwkA","HkNKkRoiGk8","igX2deuD9lc","xg8z_KhSorQ","5G2G59V6IXg","LMq1gYdygxo","Qdi8UvGd1Ww","-BZc9Ee1qo0","RkBTPqPEGDo","RhjVGxILcqE","UnKqaCtnHwE","9YubwxAIpw0","Kvc5x3Bvfd4","jwTvCQQJXh0","0Kyp7uO-3RQ","3okHTqD9yUA","i9Q9bc-WgfE","a47qPRbHx7g","3LwMyv3FiUE","KRAazAqquaQ","OsMWWAL0saQ","a2zdgkDzFo8","9pvTSsNV2T4","hfLsVDvnKwY","-KdfxdUEVv0","XxDJ6bgq7Pw","P3DxOe-OJGA","-IZ2sgQKIhM","uzwTVzXqZcg","HgQOh4s_M-U","ap6baZcbAho","T7s_TnKO-dk","FO7bKvgETgQ","NWleDEFmYDg","gcOMSDzWvR8","Ke-ENe3ByiQ","4-KqFyHKRdo","oj8XzDDpK40","e6f8IaRQY7M","hnw3Al47-KE","ipH70OUZDrk","1awcLzy32Dg","FAn-NWH8Bzw","d6kSvT2xZQo"]);let l,_="",k="";async function y(f){const d=f.trim(),c=d.includes(" "),h=encodeURIComponent(c?`"${d}"`:d),C=`https://api.unsplash.com/photos/random?client_id=${o}&query=${h}`;try{const E=await fetch(C);if(!E.ok)throw new Error("Error fetching photo.");return await E.json()}catch(E){return n(1,_="Error fetching new photo."),console.error("Fetch error:",E),null}}async function A(f,d){try{const c=await fetch(`${f.links.download_location}?client_id=${o}`,{method:"GET",headers:{Authorization:`Client-ID ${o}`}});if(c.ok){const C=(await c.json()).url,E=await fetch(C);if(E.ok){const L=await E.blob(),w=URL.createObjectURL(L),m=document.createElement("a");m.href=w,m.download=d,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(w)}else throw new Error("Failed to download the image from Unsplash")}else throw new Error("Unsplash download trigger failed")}catch(c){console.error("Download error:",c)}}async function P(){let f=0,d=!1;for(;!d&&f<$;){f++;const c=Me(),h=await y(c);h&&!u.has(h.id)&&h.location&&h.location.name&&(t.has(h.id)||(n(0,l=h),t.add(h.id),d=!0))}d||setTimeout(P,ee)}async function D(){if(k.trim()){console.log("Searching for:",k);const f=await y(k);f&&!t.has(f.id)&&!u.has(f.id)&&(n(0,l=f),t.add(f.id)),n(2,k="")}}re(async()=>{let f=!1,d=0;for(;!f&&d<$;){d++;try{const c=await y("nature");c&&!u.has(c.id)&&c.location&&c.location.name?(n(0,l=c),s.update(h=>(h.add(c.id),h)),f=!0):await new Promise(h=>setTimeout(h,ee))}catch(c){n(1,_="Whoops! Refresh your browser, please."),console.error(c)}}f||n(1,_="Please try again. Refresh your browser!")});function Q(){k=this.value,n(2,k)}return[l,_,k,s,A,P,D,Q]}class Ee extends oe{constructor(e){super(),se(this,e,Ie,Te,te,{})}}export{Ee as component};

import{s as ee,d as V,n as q,r as se,c as ne,o as le}from"../chunks/scheduler.BXxgt0ok.js";import{S as te,i as oe,e as g,s as R,c as y,a as A,d as v,f as S,l as i,g as P,h as C,t as K,k as D,b as N,z as F,j as B,A as X,B as ae,n as H,o as re,p as z,r as ie,v as ce,w as ue,x as he,y as fe}from"../chunks/index.CBX-e1eN.js";import{w as de}from"../chunks/index.LCLLhfyB.js";function Z(a){let e,s,t,o,r="Photo by",_,n,d=a[0].user.name+"",h,p,L,I,U="on",W,u,m,c,f,T="Download",E,Y,b=a[0].location&&a[0].location.name&&J(a);return{c(){e=g("div"),b&&b.c(),s=R(),t=g("div"),o=g("span"),o.textContent=r,_=R(),n=g("a"),h=K(d),L=R(),I=g("span"),I.textContent=U,W=R(),u=g("a"),m=K("Unsplash"),c=R(),f=g("button"),f.textContent=T,this.h()},l(w){e=y(w,"DIV",{class:!0});var j=A(e);b&&b.l(j),s=S(j),t=y(j,"DIV",{class:!0});var M=A(t);o=y(M,"SPAN",{class:!0,"data-svelte-h":!0}),D(o)!=="svelte-b69ulm"&&(o.textContent=r),_=S(M),n=y(M,"A",{class:!0,href:!0,target:!0,rel:!0});var Q=A(n);h=N(Q,d),Q.forEach(v),L=S(M),I=y(M,"SPAN",{class:!0,"data-svelte-h":!0}),D(I)!=="svelte-16j78ur"&&(I.textContent=U),W=S(M),u=y(M,"A",{class:!0,href:!0,target:!0,rel:!0});var l=A(u);m=N(l,"Unsplash"),l.forEach(v),M.forEach(v),j.forEach(v),c=S(w),f=y(w,"BUTTON",{class:!0,"data-svelte-h":!0}),D(f)!=="svelte-64za16"&&(f.textContent=T),this.h()},h(){i(o,"class","credit-photo-by svelte-uicrsj"),i(n,"class","credit-links svelte-uicrsj"),i(n,"href",p=G(a[0].user.links.html)),i(n,"target","_blank"),i(n,"rel","noopener noreferrer"),i(I,"class","credit-on svelte-uicrsj"),i(u,"class","credit-links svelte-uicrsj"),i(u,"href",G("https://unsplash.com")),i(u,"target","_blank"),i(u,"rel","noopener noreferrer"),i(t,"class","caption"),i(e,"class","photo-information svelte-uicrsj"),i(f,"class","download-button svelte-uicrsj")},m(w,j){P(w,e,j),b&&b.m(e,null),C(e,s),C(e,t),C(t,o),C(t,_),C(t,n),C(n,h),C(t,L),C(t,I),C(t,W),C(t,u),C(u,m),P(w,c,j),P(w,f,j),E||(Y=F(f,"click",a[1]),E=!0)},p(w,j){w[0].location&&w[0].location.name?b?b.p(w,j):(b=J(w),b.c(),b.m(e,s)):b&&(b.d(1),b=null),j&1&&d!==(d=w[0].user.name+"")&&B(h,d),j&1&&p!==(p=G(w[0].user.links.html))&&i(n,"href",p)},d(w){w&&(v(e),v(c),v(f)),b&&b.d(),E=!1,Y()}}}function J(a){let e,s=a[0].location.name+"",t;return{c(){e=g("p"),t=K(s),this.h()},l(o){e=y(o,"P",{class:!0});var r=A(e);t=N(r,s),r.forEach(v),this.h()},h(){i(e,"class","location svelte-uicrsj")},m(o,r){P(o,e,r),C(e,t)},p(o,r){r&1&&s!==(s=o[0].location.name+"")&&B(t,s)},d(o){o&&v(e)}}}function pe(a){let e,s,t,o,r,_,n=a[0]&&Z(a);return{c(){e=g("div"),s=g("div"),t=g("img"),_=R(),n&&n.c(),this.h()},l(d){e=y(d,"DIV",{class:!0});var h=A(e);s=y(h,"DIV",{class:!0});var p=A(s);t=y(p,"IMG",{src:!0,alt:!0,class:!0}),p.forEach(v),_=S(h),n&&n.l(h),h.forEach(v),this.h()},h(){var d,h,p;V(t.src,o=((h=(d=a[0])==null?void 0:d.urls)==null?void 0:h.regular)||"/assets/fetching-image-element-placeholder.png")||i(t,"src",o),i(t,"alt",r=((p=a[0])==null?void 0:p.alt_description)||"Placeholder Image"),i(t,"class","photo-img svelte-uicrsj"),i(s,"class","image-container svelte-uicrsj"),i(e,"class","photo-card svelte-uicrsj")},m(d,h){P(d,e,h),C(e,s),C(s,t),C(e,_),n&&n.m(e,null)},p(d,[h]){var p,L,I;h&1&&!V(t.src,o=((L=(p=d[0])==null?void 0:p.urls)==null?void 0:L.regular)||"/assets/fetching-image-element-placeholder.png")&&i(t,"src",o),h&1&&r!==(r=((I=d[0])==null?void 0:I.alt_description)||"Placeholder Image")&&i(t,"alt",r),d[0]?n?n.p(d,h):(n=Z(d),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:q,o:q,d(d){d&&v(e),n&&n.d()}}}const me="Natural Travel Inspiration",_e="referral";function G(a){return`${a}?utm_source=${me}&utm_medium=${_e}`}function ve(a,e,s){let{photo:t}=e,{onDownload:o}=e;function r(){if(console.log("Triggering download for photo:",t),o&&typeof o=="function"){const _=`unsplash_image_${t.id}.jpg`;console.log("Filename:",_),o(t,_)}else console.error("Download function not provided!")}return a.$$set=_=>{"photo"in _&&s(0,t=_.photo),"onDownload"in _&&s(2,o=_.onDownload)},[t,r,o]}class we extends te{constructor(e){super(),oe(this,e,ve,pe,ee,{photo:0,onDownload:2})}}function be(a){let e,s="Searching for inspiration...";return{c(){e=g("p"),e.textContent=s,this.h()},l(t){e=y(t,"P",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-tc8shl"&&(e.textContent=s),this.h()},h(){i(e,"class","searching-for-inspiration svelte-17vun9b")},m(t,o){P(t,e,o)},p:q,i:q,o:q,d(t){t&&v(e)}}}function ke(a){let e,s;return e=new we({props:{photo:a[0],onDownload:a[4]}}),{c(){ce(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,o){he(e,t,o),s=!0},p(t,o){const r={};o&1&&(r.photo=t[0]),e.$set(r)},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){fe(e,t)}}}function ge(a){let e,s;return{c(){e=g("p"),s=K(a[1]),this.h()},l(t){e=y(t,"P",{class:!0});var o=A(e);s=N(o,a[1]),o.forEach(v),this.h()},h(){i(e,"class","svelte-17vun9b")},m(t,o){P(t,e,o),C(e,s)},p(t,o){o&2&&B(s,t[1])},i:q,o:q,d(t){t&&v(e)}}}function ye(a){let e,s="Natural Travel Inspiration ⛰️",t,o,r,_,n,d='More <span class="smaller-down-arrow svelte-17vun9b">⬇</span>',h,p,L="Random Natural Inspiration",I,U,W='<span class="smaller-down-arrow svelte-17vun9b">⬇ </span>Search For A More Specific Random Image Below',u,m,c,f,T,E="Search",Y,b,w;const j=[ge,ke,be],M=[];function Q(l,k){return l[1]?0:l[0]?1:2}return o=Q(a),r=M[o]=j[o](a),{c(){e=g("h1"),e.textContent=s,t=R(),r.c(),_=R(),n=g("p"),n.innerHTML=d,h=R(),p=g("button"),p.textContent=L,I=R(),U=g("p"),U.innerHTML=W,u=R(),m=g("form"),c=g("input"),f=R(),T=g("button"),T.textContent=E,this.h()},l(l){e=y(l,"H1",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-dr4slq"&&(e.textContent=s),t=S(l),r.l(l),_=S(l),n=y(l,"P",{class:!0,"data-svelte-h":!0}),D(n)!=="svelte-1na247x"&&(n.innerHTML=d),h=S(l),p=y(l,"BUTTON",{class:!0,"data-svelte-h":!0}),D(p)!=="svelte-1ujrdmr"&&(p.textContent=L),I=S(l),U=y(l,"P",{class:!0,"data-svelte-h":!0}),D(U)!=="svelte-omenuc"&&(U.innerHTML=W),u=S(l),m=y(l,"FORM",{class:!0});var k=A(m);c=y(k,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),f=S(k),T=y(k,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),D(T)!=="svelte-144da9z"&&(T.textContent=E),k.forEach(v),this.h()},h(){i(e,"class","svelte-17vun9b"),i(n,"class","click-below-message svelte-17vun9b"),i(p,"class","svelte-17vun9b"),i(U,"class","click-below-message-longer svelte-17vun9b"),i(c,"type","search"),i(c,"id","search-input"),i(c,"placeholder",""),i(c,"class","svelte-17vun9b"),i(T,"type","submit"),i(T,"class","svelte-17vun9b"),i(m,"class","pico-form svelte-17vun9b")},m(l,k){P(l,e,k),P(l,t,k),M[o].m(l,k),P(l,_,k),P(l,n,k),P(l,h,k),P(l,p,k),P(l,I,k),P(l,U,k),P(l,u,k),P(l,m,k),C(m,c),X(c,a[2]),C(m,f),C(m,T),Y=!0,b||(w=[F(p,"click",a[5]),F(c,"input",a[7]),F(m,"submit",ae(a[6]))],b=!0)},p(l,[k]){let x=o;o=Q(l),o===x?M[o].p(l,k):(ie(),H(M[x],1,1,()=>{M[x]=null}),re(),r=M[o],r?r.p(l,k):(r=M[o]=j[o](l),r.c()),z(r,1),r.m(_.parentNode,_)),k&4&&c.value!==l[2]&&X(c,l[2])},i(l){Y||(z(r),Y=!0)},o(l){H(r),Y=!1},d(l){l&&(v(e),v(t),v(_),v(n),v(h),v(p),v(I),v(U),v(u),v(m)),M[o].d(l),b=!1,se(w)}}}const O=20,$=1e3;function Ce(){const a=["mountain","hike","vista","cliff","forest","river"];return a[Math.floor(Math.random()*a.length)]}function Ie(a,e,s){let t;const o="DhbwOlEXTWXSjSPsc0mBLHepnq6RtSt6boyDK-G50lw",r=de(new Set);ne(a,r,u=>s(8,t=u));const _=new Set(["UOkZT4JT8fw","parczv2B-ZM","xRr9Lz3xfYs","uYoVf9I6ANI","mmzuZhihp30","jqgsM3B9Fpo","tMzCrBkM99Y","IicyiaPYGGI","jAjvbh7vw9g","6c5ZTHnUUzA","OdBFUurPHjo","PSFfI7vbS3c","9JxubXPaidg","uNliRqlmBdg","jnJ89cuXMcs","F6Da4r2x5to","z8ct_Q3oCqM","RwHv7LgeC7s","2JwQoi-RBiI","3W9buupDI2k","10TSKDfW8X8","TkrRvwxjb_8","fsJB3KT2rj8","bBiuSdck8tU","h6zMgghzZr0","7AcMUSYRZpU","jin4W1HqgL4","El-egS_h_N4","MMJx78V7xS8","h5eLbyHzAcE","ITfHPUy0x9k","s0vFLLZzOrs","v4e3JI7DDHI","vngzm4P2BTs","koy6FlCCy5s","sx6n_hgSmOc","9Z1KRIfpBTM","JP23z_-dA74","jt6QxZwSOCQ","8mCMQSq41gQ","Dqzsti6Fonc","KhsuK_wq-o4","rCFAY4WrbUY","4rDCa5hBlCs","hPxKmyCZ-Bs","KMYCSLP8uiU","jWv1ILisuSc","OOE4xAnBhKo","rleYWWVY4Pc","GVnUVP8cs1o","T8-kfC8W4b8","yjEt-n0qUl8","LNYdZutqsi0","d2aXuZD2kUc","OS0D-aJ54CY","6ArTTluciuA","6loxuv3aXkg","XxvXRmsH860","qPPWNeFVLFQ","pmhoQj3Ce1E","6-C0VRsagUw","8SXaMMWCTGc","h5wvMCdOV3w","CoIqQVwEGY0","I3jSS2YfmcU","0uO6qhd6Bi8","gofWd3XkKo0","NliTYm_jD5o","zPCj7SKoub8","gvb84QdErNs","-N_UwPdUs7E","choc7LYd98I","Tw_rTjWMuGo","WgT_B4mN0BA","yZNGVL_fWj8","pT8mKX61STI","NjT4O7WYmwk","wQImoykAwGs","cS6YoRIAK2w","_EMkxLdko9k","vzVGHfxZIZ8","F5zoQfoWtbM","U86FnrpRR0k","fG4PYBDmAkI","9Gs0qk9Z3WU","h3ki3bbJWk0","xjhgZCuvg3k","fMIsAL72P3U","5-jtsfuaLBw","AnKC9klnyKk","Ee0894MAyok","gyIRjKPXupE","jFCViYFYcus","eOpewngf68w","Rfflri94rs8","Lh2qwkppkf8","RdouF_LXaYI","049M_crau5k","IVbFRSEYGuA","sNVE_h_7naU","7KLa-xLbSXA","poXhq_-eANA","utoPXPPr5zc","jCL98LGaeoE","rFn64K0YQrI","vpkCTrnV2eE","JiphyElpixM","ciHYaPb8lUA","c1Jp-fo53U8","WK4lhYGRIzw","JWa5jZ1LkJY","MPKFmy_Xc_A","NEqEC7qa9FM","vUNQaTtZeOo","c4cWawGBFv8","rckx2mE9rOw","cCthPLHmrzI","dhw3LSuWyks","3U3Qegatt2o","QsWG0kjPQRY","42MaenKbPe0","9K9ipjhDdks","sFLVTqNzG2I","7ne3hNnojvU","j6dqEl13is4","hpTH5b6mo2s","19SC2oaVZW0","u4fWwlBhHJ8","ugnrXk1129g","Yl9YFBtZFcQ","SaWeuWtLQqE","NP_GHS5Bb-s","yu2Ay7LQmnY","_ReQ6GSqSaM","wxZBV8GiPlc","1OtUkD_8svc","PXXtq6bp6cs","qN8AMtHZ2nY","J2xHOsMNIn0","SDoMyyylpnc","SDoMyyylpnc","3Kv48NS4WUU","3Ltn2aWVNcM","vgazHbc0XWg","8UVZHt8AUoQ","Ed_DchxFfrU","uilVSfUGnWk","dSxAggoqPAk","F_moKY91WYc","2ZjJ7T6EeOg","mLXmJb3In8Q","T69h1_YfR-w","kIR55P1eXJI","mFbrMEVKCkc","UFnHt94r91w","pt7QzB4ZLWw","6xh7H5tWj9c","bnUXhIyf0i0","WJkc3xZjSXw","5S6_c_yCIwE","d4feocYfzAM","nTRDnDdDYk8","Rr3B0LH7W3k","7NBO76G5JsE","0D8_tYHIy0o","lsGWd4KgCD4","JiuVoQd-ZLk","qzgN45hseN0","ZeNABWS-k4Q","Dm-qxdynoEc","__0Yg6-lvP8","qd-dvtbS45Q","4ooRozrZdLM","wKjIeK4QSnk","4QWR5geRC9I","PjjMG6VyHs4","TMNyU2MFTGw","lIat5Z-N3JA","QMnYC8WVFM8","SBiVq9eWEtQ","uaO9cd5BQPc","sp-p7uuT0tw","sp-p7uuT0tw","Yh6K2eTr_FY","GzcI_rMNclY","CtxRK04XMKs","mppuJZUzhI0","AqXqL_V9qpM","6csuZQ9oZcI","TRhGEGdw-YY","NQSWvyVRIJk","FMWXjhIkmO0","VHUbeZMH6Yg","uJnUhGtI_Pk","hry9juw-x5k","50bzI1F6urA","J2jtcRbiL-4","zK049OFP4uI","enXOyujvTXQ","z_HDrTQxNEI","z_HDrTQxNEI","zXVk8mNl9M0","a0nbRUHimZw","a0nbRUHimZw","S9miGKjxmb4","uyNMxCFYMvo","gzMvo6cR6J0","b4l3Mn4pRKk","D4TooCIEyF4","2JuKK2ticlk","buF62ewDLcQ","Fz77XHwFYg0","WVEBqXRGcy8","xY_6ZENqcfo","TBl1-EKYFjs","KYTT8L5JLDs","XAmgFP_GvVA","5VDFTgpwV2g","whDrFMucHkc","G8rRItjrwkA","HkNKkRoiGk8","igX2deuD9lc","xg8z_KhSorQ","5G2G59V6IXg","LMq1gYdygxo","Qdi8UvGd1Ww","-BZc9Ee1qo0","RkBTPqPEGDo","RhjVGxILcqE","UnKqaCtnHwE","9YubwxAIpw0","Kvc5x3Bvfd4","jwTvCQQJXh0","0Kyp7uO-3RQ","3okHTqD9yUA","i9Q9bc-WgfE","a47qPRbHx7g","3LwMyv3FiUE","KRAazAqquaQ","OsMWWAL0saQ"]);let n,d="",h="";async function p(u){const m=u.trim(),c=m.includes(" "),f=encodeURIComponent(c?`"${m}"`:m),T=`https://api.unsplash.com/photos/random?client_id=${o}&query=${f}`;try{const E=await fetch(T);if(!E.ok)throw new Error("Error fetching photo.");return await E.json()}catch{return s(1,d="Error fetching new photo."),null}}async function L(u,m){try{const c=await fetch(`${u.links.download_location}?client_id=${o}`,{method:"GET",headers:{Authorization:`Client-ID ${o}`}});if(c.ok){const T=(await c.json()).url,E=await fetch(T);if(E.ok){const Y=await E.blob(),b=URL.createObjectURL(Y),w=document.createElement("a");w.href=b,w.download=m,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(b)}else throw new Error("Failed to download the image from Unsplash")}else throw new Error("Unsplash download trigger failed")}catch(c){console.error("Download error:",c)}}async function I(){let u=0,m=!1;for(;!m&&u<O;){u++;const c=Ce(),f=await p(c);f&&!_.has(f.id)&&f.location&&f.location.name&&(t.has(f.id)||(s(0,n=f),t.add(f.id),m=!0))}m||setTimeout(I,$)}async function U(){if(h.trim()){const u=await p(h);u&&!t.has(u.id)&&!_.has(u.id)&&(s(0,n=u),t.add(u.id)),s(2,h="")}}le(async()=>{let u=!1,m=0;for(;!u&&m<O;){m++;try{const c=await p("nature");c&&!_.has(c.id)&&c.location&&c.location.name?(s(0,n=c),r.update(f=>(f.add(c.id),f)),u=!0):await new Promise(f=>setTimeout(f,$))}catch(c){s(1,d="Whoops! Refresh your browser, please."),console.error(c)}}u||s(1,d="Please try again. Refresh your browser!")});function W(){h=this.value,s(2,h)}return[n,d,h,r,L,I,U,W]}class je extends te{constructor(e){super(),oe(this,e,Ie,ye,ee,{})}}export{je as component};

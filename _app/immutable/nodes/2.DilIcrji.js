import{s as te,n as K,d as Z,r as le,c as ne,o as ae}from"../chunks/scheduler.BXxgt0ok.js";import{S as oe,i as se,e as v,s as R,c as b,a as A,d as h,f as S,l as i,g as M,h as T,t as F,k as Y,b as N,z as Q,j as X,A as B,B as re,n as G,o as ie,p as H,r as ce,v as ue,w as fe,x as de,y as he}from"../chunks/index.CBX-e1eN.js";import{w as pe}from"../chunks/index.LCLLhfyB.js";function x(a){let e,l,t;return{c(){e=v("img"),this.h()},l(o){e=b(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Z(e.src,l=a[0].urls.regular)||i(e,"src",l),i(e,"alt",t=a[0].alt_description||"Unsplash Photo"),i(e,"class","svelte-1kbokbd")},m(o,s){M(o,e,s)},p(o,s){s&1&&!Z(e.src,l=o[0].urls.regular)&&i(e,"src",l),s&1&&t!==(t=o[0].alt_description||"Unsplash Photo")&&i(e,"alt",t)},d(o){o&&h(e)}}}function J(a){let e,l,t,o,s="Photo by",u,n,_=a[0].user.name+"",g,y,j,I,E="on",q,f,p,c,d,P="Download",D,L,k=a[0].location&&a[0].location.name&&O(a);return{c(){e=v("div"),k&&k.c(),l=R(),t=v("div"),o=v("span"),o.textContent=s,u=R(),n=v("a"),g=F(_),j=R(),I=v("span"),I.textContent=E,q=R(),f=v("a"),p=F("Unsplash"),c=R(),d=v("button"),d.textContent=P,this.h()},l(m){e=b(m,"DIV",{class:!0});var U=A(e);k&&k.l(U),l=S(U),t=b(U,"DIV",{class:!0});var C=A(t);o=b(C,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-b69ulm"&&(o.textContent=s),u=S(C),n=b(C,"A",{class:!0,href:!0,target:!0,rel:!0});var W=A(n);g=N(W,_),W.forEach(h),j=S(C),I=b(C,"SPAN",{class:!0,"data-svelte-h":!0}),Y(I)!=="svelte-16j78ur"&&(I.textContent=E),q=S(C),f=b(C,"A",{class:!0,href:!0,target:!0,rel:!0});var r=A(f);p=N(r,"Unsplash"),r.forEach(h),C.forEach(h),U.forEach(h),c=S(m),d=b(m,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(d)!=="svelte-64za16"&&(d.textContent=P),this.h()},h(){i(o,"class","credit-photo-by svelte-1kbokbd"),i(n,"class","credit-links svelte-1kbokbd"),i(n,"href",y=V(a[0].user.links.html)),i(n,"target","_blank"),i(n,"rel","noopener noreferrer"),i(I,"class","credit-on svelte-1kbokbd"),i(f,"class","credit-links svelte-1kbokbd"),i(f,"href",V("https://unsplash.com")),i(f,"target","_blank"),i(f,"rel","noopener noreferrer"),i(t,"class","caption svelte-1kbokbd"),i(e,"class","photo-information svelte-1kbokbd"),i(d,"class","download-button svelte-1kbokbd")},m(m,U){M(m,e,U),k&&k.m(e,null),T(e,l),T(e,t),T(t,o),T(t,u),T(t,n),T(n,g),T(t,j),T(t,I),T(t,q),T(t,f),T(f,p),M(m,c,U),M(m,d,U),D||(L=Q(d,"click",a[2]),D=!0)},p(m,U){m[0].location&&m[0].location.name?k?k.p(m,U):(k=O(m),k.c(),k.m(e,l)):k&&(k.d(1),k=null),U&1&&_!==(_=m[0].user.name+"")&&X(g,_),U&1&&y!==(y=V(m[0].user.links.html))&&i(n,"href",y)},d(m){m&&(h(e),h(c),h(d)),k&&k.d(),D=!1,L()}}}function O(a){let e,l=a[0].location.name+"",t;return{c(){e=v("p"),t=F(l),this.h()},l(o){e=b(o,"P",{class:!0});var s=A(e);t=N(s,l),s.forEach(h),this.h()},h(){i(e,"class","location svelte-1kbokbd")},m(o,s){M(o,e,s),T(e,t)},p(o,s){s&1&&l!==(l=o[0].location.name+"")&&X(t,l)},d(o){o&&h(e)}}}function me(a){let e,l,t,o,s=a[0]&&a[0].urls&&a[0].urls.regular&&x(a),u=a[0]&&J(a);return{c(){e=v("div"),l=v("div"),s&&s.c(),t=R(),u&&u.c(),this.h()},l(n){e=b(n,"DIV",{class:!0});var _=A(e);l=b(_,"DIV",{class:!0});var g=A(l);s&&s.l(g),g.forEach(h),t=S(_),u&&u.l(_),_.forEach(h),this.h()},h(){i(l,"class","image-container svelte-1kbokbd"),i(e,"class",o="photo-card "+(a[1]?"loaded":"")+" svelte-1kbokbd")},m(n,_){M(n,e,_),T(e,l),s&&s.m(l,null),T(e,t),u&&u.m(e,null)},p(n,[_]){n[0]&&n[0].urls&&n[0].urls.regular?s?s.p(n,_):(s=x(n),s.c(),s.m(l,null)):s&&(s.d(1),s=null),n[0]?u?u.p(n,_):(u=J(n),u.c(),u.m(e,null)):u&&(u.d(1),u=null),_&2&&o!==(o="photo-card "+(n[1]?"loaded":"")+" svelte-1kbokbd")&&i(e,"class",o)},i:K,o:K,d(n){n&&h(e),s&&s.d(),u&&u.d()}}}const _e="Natural Travel Inspiration",ke="referral";function V(a){return`${a}?utm_source=${_e}&utm_medium=${ke}`}function we(a,e,l){let{photo:t}=e,{onDownload:o}=e,s=!1;function u(){if(console.log("Triggering download for photo:",t),o&&typeof o=="function"){const n=`unsplash_image_${t.id}.jpg`;console.log("Filename:",n),o(t,n)}else console.error("Download function not provided!")}return a.$$set=n=>{"photo"in n&&l(0,t=n.photo),"onDownload"in n&&l(3,o=n.onDownload)},a.$$.update=()=>{a.$$.dirty&1&&t&&t.urls&&t.urls.regular&&l(1,s=!0)},[t,s,u,o]}class ve extends oe{constructor(e){super(),se(this,e,we,me,te,{photo:0,onDownload:3})}}function be(a){let e,l="Searching for inspiration...";return{c(){e=v("p"),e.textContent=l,this.h()},l(t){e=b(t,"P",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-tc8shl"&&(e.textContent=l),this.h()},h(){i(e,"class","searching-for-inspiration svelte-1ff00ey")},m(t,o){M(t,e,o)},p:K,i:K,o:K,d(t){t&&h(e)}}}function ge(a){let e,l;return e=new ve({props:{photo:a[0],onDownload:a[4]}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,o){de(e,t,o),l=!0},p(t,o){const s={};o&1&&(s.photo=t[0]),e.$set(s)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){G(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function ye(a){let e,l;return{c(){e=v("p"),l=F(a[1]),this.h()},l(t){e=b(t,"P",{class:!0});var o=A(e);l=N(o,a[1]),o.forEach(h),this.h()},h(){i(e,"class","svelte-1ff00ey")},m(t,o){M(t,e,o),T(e,l)},p(t,o){o&2&&X(l,t[1])},i:K,o:K,d(t){t&&h(e)}}}function Te(a){let e,l="Natural Travel Inspiration ⛰️",t,o,s,u,n,_='More <span class="smaller-down-arrow svelte-1ff00ey">⬇</span>',g,y,j="Random Natural Inspiration",I,E,q='<span class="smaller-down-arrow svelte-1ff00ey">⬇ </span>Search For A More Specific Random Image Below',f,p,c,d,P,D="Search",L,k,m;const U=[ye,ge,be],C=[];function W(r,w){return r[1]?0:r[0]?1:2}return o=W(a),s=C[o]=U[o](a),{c(){e=v("h1"),e.textContent=l,t=R(),s.c(),u=R(),n=v("p"),n.innerHTML=_,g=R(),y=v("button"),y.textContent=j,I=R(),E=v("p"),E.innerHTML=q,f=R(),p=v("form"),c=v("input"),d=R(),P=v("button"),P.textContent=D,this.h()},l(r){e=b(r,"H1",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-dr4slq"&&(e.textContent=l),t=S(r),s.l(r),u=S(r),n=b(r,"P",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1na247x"&&(n.innerHTML=_),g=S(r),y=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(y)!=="svelte-1ujrdmr"&&(y.textContent=j),I=S(r),E=b(r,"P",{class:!0,"data-svelte-h":!0}),Y(E)!=="svelte-omenuc"&&(E.innerHTML=q),f=S(r),p=b(r,"FORM",{class:!0});var w=A(p);c=b(w,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),d=S(w),P=b(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Y(P)!=="svelte-144da9z"&&(P.textContent=D),w.forEach(h),this.h()},h(){i(e,"class","svelte-1ff00ey"),i(n,"class","click-below-message svelte-1ff00ey"),i(y,"class","svelte-1ff00ey"),i(E,"class","click-below-message-longer svelte-1ff00ey"),i(c,"type","search"),i(c,"id","search-input"),i(c,"placeholder",""),i(c,"class","svelte-1ff00ey"),i(P,"type","submit"),i(P,"class","svelte-1ff00ey"),i(p,"class","pico-form svelte-1ff00ey")},m(r,w){M(r,e,w),M(r,t,w),C[o].m(r,w),M(r,u,w),M(r,n,w),M(r,g,w),M(r,y,w),M(r,I,w),M(r,E,w),M(r,f,w),M(r,p,w),T(p,c),B(c,a[2]),T(p,d),T(p,P),L=!0,k||(m=[Q(y,"click",a[5]),Q(c,"input",a[7]),Q(p,"submit",re(a[6]))],k=!0)},p(r,[w]){let z=o;o=W(r),o===z?C[o].p(r,w):(ce(),G(C[z],1,1,()=>{C[z]=null}),ie(),s=C[o],s?s.p(r,w):(s=C[o]=U[o](r),s.c()),H(s,1),s.m(u.parentNode,u)),w&4&&c.value!==r[2]&&B(c,r[2])},i(r){L||(H(s),L=!0)},o(r){G(s),L=!1},d(r){r&&(h(e),h(t),h(u),h(n),h(g),h(y),h(I),h(E),h(f),h(p)),C[o].d(r),k=!1,le(m)}}}const $=20,ee=1e3;function Me(){const a=["mountain","hike","vista","cliff","forest","river"];return a[Math.floor(Math.random()*a.length)]}function Pe(a,e,l){let t;const o="DhbwOlEXTWXSjSPsc0mBLHepnq6RtSt6boyDK-G50lw",s=pe(new Set);ne(a,s,f=>l(8,t=f));const u=new Set(["UOkZT4JT8fw","parczv2B-ZM","xRr9Lz3xfYs","uYoVf9I6ANI","mmzuZhihp30","jqgsM3B9Fpo","tMzCrBkM99Y","IicyiaPYGGI","jAjvbh7vw9g","6c5ZTHnUUzA","OdBFUurPHjo","PSFfI7vbS3c","9JxubXPaidg","uNliRqlmBdg","jnJ89cuXMcs","F6Da4r2x5to","z8ct_Q3oCqM","RwHv7LgeC7s","2JwQoi-RBiI","3W9buupDI2k","10TSKDfW8X8","TkrRvwxjb_8","fsJB3KT2rj8","bBiuSdck8tU","h6zMgghzZr0","7AcMUSYRZpU","jin4W1HqgL4","El-egS_h_N4","MMJx78V7xS8","h5eLbyHzAcE","ITfHPUy0x9k","s0vFLLZzOrs","v4e3JI7DDHI","vngzm4P2BTs","koy6FlCCy5s","sx6n_hgSmOc","9Z1KRIfpBTM","JP23z_-dA74","jt6QxZwSOCQ","8mCMQSq41gQ","Dqzsti6Fonc","KhsuK_wq-o4","rCFAY4WrbUY","4rDCa5hBlCs","hPxKmyCZ-Bs","KMYCSLP8uiU","jWv1ILisuSc","OOE4xAnBhKo","rleYWWVY4Pc","GVnUVP8cs1o","T8-kfC8W4b8","yjEt-n0qUl8","LNYdZutqsi0","d2aXuZD2kUc","OS0D-aJ54CY","6ArTTluciuA","6loxuv3aXkg","XxvXRmsH860","qPPWNeFVLFQ","pmhoQj3Ce1E","6-C0VRsagUw","8SXaMMWCTGc","h5wvMCdOV3w","CoIqQVwEGY0","I3jSS2YfmcU","0uO6qhd6Bi8","gofWd3XkKo0","NliTYm_jD5o","zPCj7SKoub8","gvb84QdErNs","-N_UwPdUs7E","choc7LYd98I","Tw_rTjWMuGo","WgT_B4mN0BA","yZNGVL_fWj8","pT8mKX61STI","NjT4O7WYmwk","wQImoykAwGs","cS6YoRIAK2w","_EMkxLdko9k","vzVGHfxZIZ8","F5zoQfoWtbM","U86FnrpRR0k","fG4PYBDmAkI","9Gs0qk9Z3WU","h3ki3bbJWk0","xjhgZCuvg3k","fMIsAL72P3U","5-jtsfuaLBw","AnKC9klnyKk","Ee0894MAyok","gyIRjKPXupE","jFCViYFYcus","eOpewngf68w","Rfflri94rs8","Lh2qwkppkf8","RdouF_LXaYI","049M_crau5k","IVbFRSEYGuA","sNVE_h_7naU","7KLa-xLbSXA","poXhq_-eANA","utoPXPPr5zc","jCL98LGaeoE","rFn64K0YQrI","vpkCTrnV2eE","JiphyElpixM","ciHYaPb8lUA","c1Jp-fo53U8","WK4lhYGRIzw","JWa5jZ1LkJY","MPKFmy_Xc_A","NEqEC7qa9FM","vUNQaTtZeOo","c4cWawGBFv8","rckx2mE9rOw","cCthPLHmrzI","dhw3LSuWyks","3U3Qegatt2o","QsWG0kjPQRY","42MaenKbPe0","9K9ipjhDdks","sFLVTqNzG2I","7ne3hNnojvU","j6dqEl13is4","hpTH5b6mo2s","19SC2oaVZW0","u4fWwlBhHJ8","ugnrXk1129g","Yl9YFBtZFcQ","SaWeuWtLQqE","NP_GHS5Bb-s","yu2Ay7LQmnY","_ReQ6GSqSaM","wxZBV8GiPlc","1OtUkD_8svc","PXXtq6bp6cs","qN8AMtHZ2nY","J2xHOsMNIn0","SDoMyyylpnc","SDoMyyylpnc","3Kv48NS4WUU","3Ltn2aWVNcM","vgazHbc0XWg","8UVZHt8AUoQ","Ed_DchxFfrU","uilVSfUGnWk","dSxAggoqPAk","F_moKY91WYc","2ZjJ7T6EeOg","mLXmJb3In8Q","T69h1_YfR-w","kIR55P1eXJI","mFbrMEVKCkc","UFnHt94r91w","pt7QzB4ZLWw","6xh7H5tWj9c","bnUXhIyf0i0","WJkc3xZjSXw","5S6_c_yCIwE","d4feocYfzAM","nTRDnDdDYk8","Rr3B0LH7W3k","7NBO76G5JsE","0D8_tYHIy0o","lsGWd4KgCD4","JiuVoQd-ZLk","qzgN45hseN0","ZeNABWS-k4Q","Dm-qxdynoEc","__0Yg6-lvP8","qd-dvtbS45Q","4ooRozrZdLM","wKjIeK4QSnk","4QWR5geRC9I","PjjMG6VyHs4","TMNyU2MFTGw","lIat5Z-N3JA","QMnYC8WVFM8","SBiVq9eWEtQ","uaO9cd5BQPc","sp-p7uuT0tw","sp-p7uuT0tw","Yh6K2eTr_FY","GzcI_rMNclY","CtxRK04XMKs","mppuJZUzhI0","AqXqL_V9qpM","6csuZQ9oZcI","TRhGEGdw-YY","NQSWvyVRIJk","FMWXjhIkmO0","VHUbeZMH6Yg","uJnUhGtI_Pk","hry9juw-x5k","50bzI1F6urA","J2jtcRbiL-4","zK049OFP4uI","enXOyujvTXQ","z_HDrTQxNEI","z_HDrTQxNEI","zXVk8mNl9M0","a0nbRUHimZw","a0nbRUHimZw","S9miGKjxmb4","uyNMxCFYMvo","gzMvo6cR6J0","b4l3Mn4pRKk","D4TooCIEyF4","2JuKK2ticlk","buF62ewDLcQ","Fz77XHwFYg0","WVEBqXRGcy8","xY_6ZENqcfo","TBl1-EKYFjs","KYTT8L5JLDs","XAmgFP_GvVA","5VDFTgpwV2g","whDrFMucHkc","G8rRItjrwkA","HkNKkRoiGk8","igX2deuD9lc","xg8z_KhSorQ","5G2G59V6IXg","LMq1gYdygxo","Qdi8UvGd1Ww","-BZc9Ee1qo0","RkBTPqPEGDo","RhjVGxILcqE","UnKqaCtnHwE","9YubwxAIpw0","Kvc5x3Bvfd4","jwTvCQQJXh0","0Kyp7uO-3RQ","3okHTqD9yUA","i9Q9bc-WgfE","a47qPRbHx7g","3LwMyv3FiUE","KRAazAqquaQ","OsMWWAL0saQ","a2zdgkDzFo8","9pvTSsNV2T4","hfLsVDvnKwY","-KdfxdUEVv0","XxDJ6bgq7Pw","P3DxOe-OJGA","-IZ2sgQKIhM","uzwTVzXqZcg"]);let n,_="",g="";async function y(f){const p=f.trim(),c=encodeURIComponent(p),d=`https://api.unsplash.com/photos/random?client_id=${o}&query=${c}`;try{const P=await fetch(d);if(!P.ok)throw new Error("Error fetching photo.");return await P.json()}catch{return l(1,_="Error fetching new photo."),null}}async function j(f,p){try{const c=await fetch(`${f.links.download_location}?client_id=${o}`,{method:"GET",headers:{Authorization:`Client-ID ${o}`}});if(c.ok){const P=(await c.json()).url,D=await fetch(P);if(D.ok){const L=await D.blob(),k=URL.createObjectURL(L),m=document.createElement("a");m.href=k,m.download=p,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(k)}else throw new Error("Failed to download the image from Unsplash")}else throw new Error("Unsplash download trigger failed")}catch(c){console.error("Download error:",c)}}async function I(){let f=0,p=!1;for(;!p&&f<$;){f++;const c=Me(),d=await y(c);d&&!u.has(d.id)&&d.location&&d.location.name&&(t.has(d.id)||(l(0,n=d),t.add(d.id),p=!0))}p||setTimeout(I,ee)}async function E(){if(g.trim()){const f=await y(g);f&&!t.has(f.id)&&!u.has(f.id)&&(l(0,n=f),t.add(f.id)),l(2,g="")}}ae(async()=>{let f=!1,p=0;for(;!f&&p<$;){p++;try{const c=await y("nature");c&&!u.has(c.id)&&c.location&&c.location.name?(l(0,n=c),s.update(d=>(d.add(c.id),d)),f=!0):await new Promise(d=>setTimeout(d,ee))}catch(c){l(1,_="Whoops! Refresh your browser, please."),console.error(c)}}f||l(1,_="Please try again. Refresh your browser!")});function q(){g=this.value,l(2,g)}return[n,_,g,s,j,I,E,q]}class Ee extends oe{constructor(e){super(),se(this,e,Pe,Te,te,{})}}export{Ee as component};

import{s as le,d as oe,n as F,r as ce,c as ue,o as he}from"../chunks/scheduler.BXxgt0ok.js";import{S as re,i as ie,e as b,s as S,t as O,c as g,a as B,d as p,f as q,k as x,b as Q,l as a,g as T,h as v,z as G,j as J,A as se,B as de,n as Z,o as fe,p as X,r as pe,v as me,w as _e,x as ve,y as we}from"../chunks/index.CBX-e1eN.js";import{w as ke}from"../chunks/index.LCLLhfyB.js";function be(l){let e,s='<p class="location ask-photographer svelte-157ijq5">Location Unknown — <span class="smaller-down-arrow svelte-157ijq5">⬇ </span>Ask The Photographer Below</p>';return{c(){e=b("div"),e.innerHTML=s,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-9wmags"&&(e.innerHTML=s),this.h()},h(){a(e,"class","unknown-location svelte-157ijq5")},m(t,o){T(t,e,o)},p:F,d(t){t&&p(e)}}}function ge(l){let e,s=l[0].location.name+"",t;return{c(){e=b("p"),t=O(s),this.h()},l(o){e=g(o,"P",{class:!0});var r=B(e);t=Q(r,s),r.forEach(p),this.h()},h(){a(e,"class","location svelte-157ijq5")},m(o,r){T(o,e,r),v(e,t)},p(o,r){r&1&&s!==(s=o[0].location.name+"")&&J(t,s)},d(o){o&&p(e)}}}function Ce(l){let e,s,t,o,r,_,m,U,d,w,K="Photo by",I,k,R=l[0].user.name+"",c,u,i,h,P="on",M,C,Y,L,E,A="Download",z,n;function f(y,j){return y[0].location.name?ge:be}let N=f(l),D=N(l);return{c(){e=b("div"),s=b("div"),t=b("img"),_=S(),m=b("div"),D.c(),U=S(),d=b("div"),w=b("span"),w.textContent=K,I=S(),k=b("a"),c=O(R),i=S(),h=b("span"),h.textContent=P,M=S(),C=b("a"),Y=O("Unsplash"),L=S(),E=b("button"),E.textContent=A,this.h()},l(y){e=g(y,"DIV",{class:!0});var j=B(e);s=g(j,"DIV",{class:!0});var $=B(s);t=g($,"IMG",{src:!0,alt:!0,class:!0}),$.forEach(p),_=q(j),m=g(j,"DIV",{class:!0});var H=B(m);D.l(H),U=q(H),d=g(H,"DIV",{class:!0});var W=B(d);w=g(W,"SPAN",{class:!0,"data-svelte-h":!0}),x(w)!=="svelte-b69ulm"&&(w.textContent=K),I=q(W),k=g(W,"A",{class:!0,href:!0,target:!0,rel:!0});var ee=B(k);c=Q(ee,R),ee.forEach(p),i=q(W),h=g(W,"SPAN",{class:!0,"data-svelte-h":!0}),x(h)!=="svelte-16j78ur"&&(h.textContent=P),M=q(W),C=g(W,"A",{class:!0,href:!0,target:!0,rel:!0});var te=B(C);Y=Q(te,"Unsplash"),te.forEach(p),W.forEach(p),H.forEach(p),L=q(j),E=g(j,"BUTTON",{class:!0,"data-svelte-h":!0}),x(E)!=="svelte-64za16"&&(E.textContent=A),j.forEach(p),this.h()},h(){oe(t.src,o=l[0].urls.regular)||a(t,"src",o),a(t,"alt",r=l[0].alt_description||"Unsplash Photo"),a(t,"class","svelte-157ijq5"),a(s,"class","image-container svelte-157ijq5"),a(w,"class","credit-photo-by svelte-157ijq5"),a(k,"class","credit-links svelte-157ijq5"),a(k,"href",u=V(l[0].user.links.html)),a(k,"target","_blank"),a(k,"rel","noopener noreferrer"),a(h,"class","credit-on svelte-157ijq5"),a(C,"class","credit-links svelte-157ijq5"),a(C,"href",V("https://unsplash.com")),a(C,"target","_blank"),a(C,"rel","noopener noreferrer"),a(d,"class","caption svelte-157ijq5"),a(m,"class","photo-information svelte-157ijq5"),a(E,"class","download-button svelte-157ijq5"),a(e,"class","photo-card svelte-157ijq5")},m(y,j){T(y,e,j),v(e,s),v(s,t),v(e,_),v(e,m),D.m(m,null),v(m,U),v(m,d),v(d,w),v(d,I),v(d,k),v(k,c),v(d,i),v(d,h),v(d,M),v(d,C),v(C,Y),v(e,L),v(e,E),z||(n=G(E,"click",l[1]),z=!0)},p(y,[j]){j&1&&!oe(t.src,o=y[0].urls.regular)&&a(t,"src",o),j&1&&r!==(r=y[0].alt_description||"Unsplash Photo")&&a(t,"alt",r),N===(N=f(y))&&D?D.p(y,j):(D.d(1),D=N(y),D&&(D.c(),D.m(m,U))),j&1&&R!==(R=y[0].user.name+"")&&J(c,R),j&1&&u!==(u=V(y[0].user.links.html))&&a(k,"href",u)},i:F,o:F,d(y){y&&p(e),D.d(),z=!1,n()}}}const Pe="Natural Travel Inspiration",ye="referral";function V(l){return`${l}?utm_source=${Pe}&utm_medium=${ye}`}function je(l,e,s){let{photo:t}=e,{onDownload:o}=e;function r(){if(console.log("Triggering download for photo:",t),o&&typeof o=="function"){const _=`unsplash_image_${t.id}.jpg`;console.log("Filename:",_),o(t,_)}else console.error("Download function not provided!")}return l.$$set=_=>{"photo"in _&&s(0,t=_.photo),"onDownload"in _&&s(2,o=_.onDownload)},[t,r,o]}class Te extends re{constructor(e){super(),ie(this,e,je,Ce,le,{photo:0,onDownload:2})}}function Me(l){let e,s="Loading...";return{c(){e=b("p"),e.textContent=s,this.h()},l(t){e=g(t,"P",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-qdsr2u"&&(e.textContent=s),this.h()},h(){a(e,"class","svelte-1ntadck")},m(t,o){T(t,e,o)},p:F,i:F,o:F,d(t){t&&p(e)}}}function Ue(l){let e,s;return e=new Te({props:{photo:l[0],onDownload:l[4]}}),{c(){me(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,o){ve(e,t,o),s=!0},p(t,o){const r={};o&1&&(r.photo=t[0]),e.$set(r)},i(t){s||(X(e.$$.fragment,t),s=!0)},o(t){Z(e.$$.fragment,t),s=!1},d(t){we(e,t)}}}function Le(l){let e,s;return{c(){e=b("p"),s=O(l[1]),this.h()},l(t){e=g(t,"P",{class:!0});var o=B(e);s=Q(o,l[1]),o.forEach(p),this.h()},h(){a(e,"class","svelte-1ntadck")},m(t,o){T(t,e,o),v(e,s)},p(t,o){o&2&&J(s,t[1])},i:F,o:F,d(t){t&&p(e)}}}function Se(l){let e,s="Natural Travel Inspiration ⛰️",t,o,r,_,m,U='More <span class="smaller-down-arrow svelte-1ntadck">⬇</span>',d,w,K="Random Natural Inspiration",I,k,R='<span class="smaller-down-arrow svelte-1ntadck">⬇ </span>Search For A More Specific Random Image Below',c,u,i,h,P,M="Search",C,Y,L;const E=[Le,Ue,Me],A=[];function z(n,f){return n[1]?0:n[0]?1:2}return o=z(l),r=A[o]=E[o](l),{c(){e=b("h1"),e.textContent=s,t=S(),r.c(),_=S(),m=b("p"),m.innerHTML=U,d=S(),w=b("button"),w.textContent=K,I=S(),k=b("p"),k.innerHTML=R,c=S(),u=b("form"),i=b("input"),h=S(),P=b("button"),P.textContent=M,this.h()},l(n){e=g(n,"H1",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-dr4slq"&&(e.textContent=s),t=q(n),r.l(n),_=q(n),m=g(n,"P",{class:!0,"data-svelte-h":!0}),x(m)!=="svelte-1na247x"&&(m.innerHTML=U),d=q(n),w=g(n,"BUTTON",{class:!0,"data-svelte-h":!0}),x(w)!=="svelte-1ujrdmr"&&(w.textContent=K),I=q(n),k=g(n,"P",{class:!0,"data-svelte-h":!0}),x(k)!=="svelte-omenuc"&&(k.innerHTML=R),c=q(n),u=g(n,"FORM",{class:!0});var f=B(u);i=g(f,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),h=q(f),P=g(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(P)!=="svelte-144da9z"&&(P.textContent=M),f.forEach(p),this.h()},h(){a(e,"class","svelte-1ntadck"),a(m,"class","click-below-message svelte-1ntadck"),a(w,"class","svelte-1ntadck"),a(k,"class","click-below-message-longer svelte-1ntadck"),a(i,"type","search"),a(i,"id","search-input"),a(i,"placeholder",""),a(i,"class","svelte-1ntadck"),a(P,"type","submit"),a(P,"class","svelte-1ntadck"),a(u,"class","pico-form svelte-1ntadck")},m(n,f){T(n,e,f),T(n,t,f),A[o].m(n,f),T(n,_,f),T(n,m,f),T(n,d,f),T(n,w,f),T(n,I,f),T(n,k,f),T(n,c,f),T(n,u,f),v(u,i),se(i,l[2]),v(u,h),v(u,P),C=!0,Y||(L=[G(w,"click",l[5]),G(i,"input",l[7]),G(u,"submit",de(l[6]))],Y=!0)},p(n,[f]){let N=o;o=z(n),o===N?A[o].p(n,f):(pe(),Z(A[N],1,1,()=>{A[N]=null}),fe(),r=A[o],r?r.p(n,f):(r=A[o]=E[o](n),r.c()),X(r,1),r.m(_.parentNode,_)),f&4&&i.value!==n[2]&&se(i,n[2])},i(n){C||(X(r),C=!0)},o(n){Z(r),C=!1},d(n){n&&(p(e),p(t),p(_),p(m),p(d),p(w),p(I),p(k),p(c),p(u)),A[o].d(n),Y=!1,ce(L)}}}const ne=20,ae=1e3;function qe(){const l=["mountain","hike","vista","cliff","forest","river"];return l[Math.floor(Math.random()*l.length)]}function Ie(l,e,s){let t;const o="DhbwOlEXTWXSjSPsc0mBLHepnq6RtSt6boyDK-G50lw",r=ke(new Set);ue(l,r,c=>s(8,t=c));const _=new Set(["UOkZT4JT8fw","parczv2B-ZM","xRr9Lz3xfYs","uYoVf9I6ANI","mmzuZhihp30","jqgsM3B9Fpo","tMzCrBkM99Y","IicyiaPYGGI","jAjvbh7vw9g","6c5ZTHnUUzA","OdBFUurPHjo","PSFfI7vbS3c","9JxubXPaidg","uNliRqlmBdg","jnJ89cuXMcs","F6Da4r2x5to","z8ct_Q3oCqM","RwHv7LgeC7s","2JwQoi-RBiI","3W9buupDI2k","10TSKDfW8X8","TkrRvwxjb_8","fsJB3KT2rj8","bBiuSdck8tU","h6zMgghzZr0","7AcMUSYRZpU","jin4W1HqgL4","El-egS_h_N4","MMJx78V7xS8","h5eLbyHzAcE","ITfHPUy0x9k","s0vFLLZzOrs","v4e3JI7DDHI","vngzm4P2BTs","koy6FlCCy5s","sx6n_hgSmOc","9Z1KRIfpBTM","JP23z_-dA74","jt6QxZwSOCQ","8mCMQSq41gQ","Dqzsti6Fonc","KhsuK_wq-o4","rCFAY4WrbUY","4rDCa5hBlCs","hPxKmyCZ-Bs","KMYCSLP8uiU","jWv1ILisuSc","OOE4xAnBhKo","rleYWWVY4Pc","GVnUVP8cs1o","T8-kfC8W4b8","yjEt-n0qUl8","LNYdZutqsi0","d2aXuZD2kUc","OS0D-aJ54CY","6ArTTluciuA","6loxuv3aXkg","XxvXRmsH860","qPPWNeFVLFQ","pmhoQj3Ce1E","6-C0VRsagUw","8SXaMMWCTGc","h5wvMCdOV3w","CoIqQVwEGY0","I3jSS2YfmcU","0uO6qhd6Bi8","gofWd3XkKo0","NliTYm_jD5o","zPCj7SKoub8","gvb84QdErNs","-N_UwPdUs7E","choc7LYd98I","Tw_rTjWMuGo","WgT_B4mN0BA","yZNGVL_fWj8","pT8mKX61STI","NjT4O7WYmwk","wQImoykAwGs","cS6YoRIAK2w","_EMkxLdko9k","vzVGHfxZIZ8","F5zoQfoWtbM","U86FnrpRR0k","fG4PYBDmAkI","9Gs0qk9Z3WU","h3ki3bbJWk0","xjhgZCuvg3k","fMIsAL72P3U","5-jtsfuaLBw","AnKC9klnyKk","Ee0894MAyok","gyIRjKPXupE","jFCViYFYcus","eOpewngf68w","Rfflri94rs8","Lh2qwkppkf8","RdouF_LXaYI","049M_crau5k","IVbFRSEYGuA","sNVE_h_7naU","7KLa-xLbSXA","poXhq_-eANA","utoPXPPr5zc","jCL98LGaeoE","rFn64K0YQrI","vpkCTrnV2eE","JiphyElpixM","ciHYaPb8lUA","c1Jp-fo53U8","WK4lhYGRIzw","JWa5jZ1LkJY","MPKFmy_Xc_A","NEqEC7qa9FM","vUNQaTtZeOo","c4cWawGBFv8","rckx2mE9rOw","cCthPLHmrzI","dhw3LSuWyks","3U3Qegatt2o","QsWG0kjPQRY","42MaenKbPe0","9K9ipjhDdks","sFLVTqNzG2I","7ne3hNnojvU","j6dqEl13is4","hpTH5b6mo2s","19SC2oaVZW0","u4fWwlBhHJ8","ugnrXk1129g","Yl9YFBtZFcQ","SaWeuWtLQqE","NP_GHS5Bb-s","yu2Ay7LQmnY","_ReQ6GSqSaM","wxZBV8GiPlc","1OtUkD_8svc","PXXtq6bp6cs","qN8AMtHZ2nY","J2xHOsMNIn0","SDoMyyylpnc","SDoMyyylpnc"]);let m,U="",d="";async function w(c){const u=c.trim(),i=u.includes(" "),h=encodeURIComponent(i?`"${u}"`:u),P=`https://api.unsplash.com/photos/random?client_id=${o}&query=${h}`;try{const M=await fetch(P);if(!M.ok)throw new Error("Error fetching photo.");return await M.json()}catch{return s(1,U="Error fetching new photo."),null}}async function K(c,u){try{const i=await fetch(`${c.links.download_location}?client_id=${o}`,{method:"GET",headers:{Authorization:`Client-ID ${o}`}});if(i.ok){const P=(await i.json()).url,M=await fetch(P);if(M.ok){const C=await M.blob(),Y=URL.createObjectURL(C),L=document.createElement("a");L.href=Y,L.download=u,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(Y)}else throw new Error("Failed to download the image from Unsplash")}else throw new Error("Unsplash download trigger failed")}catch(i){console.error("Download error:",i)}}async function I(){let c=0,u=!1;for(;!u&&c<ne;){c++;const i=qe(),h=await w(i);h&&!_.has(h.id)&&(t.has(h.id)||(s(0,m=h),t.add(h.id),u=!0))}u||setTimeout(I,ae)}async function k(){if(d.trim()){const c=await w(d);c&&!t.has(c.id)&&!_.has(c.id)&&(s(0,m=c),t.add(c.id)),s(2,d="")}}he(async()=>{let c=!1,u=0;for(;!c&&u<ne;){u++;try{const i=await w("nature");i&&!_.has(i.id)?(s(0,m=i),r.update(h=>(h.add(i.id),h)),c=!0):await new Promise(h=>setTimeout(h,ae))}catch(i){s(1,U="Whoops! Refresh your browser, please."),console.error(i)}}c||s(1,U="Please try again. Refresh your browser!")});function R(){d=this.value,s(2,d)}return[m,U,d,r,K,I,k,R]}class Re extends re{constructor(e){super(),ie(this,e,Ie,Se,le,{})}}export{Re as component};
